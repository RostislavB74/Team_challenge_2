{% extends "navigation/base.html" %}

{% block title %}–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ª—ñ–Ω—ñ–π{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="text-center my-4">–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ª—ñ–Ω—ñ–π</h1>
    <form method="get">
        <input type="text" name="search" placeholder="–ü–æ—à—É–∫..." value="{{ search|default:'' }}">
        <button type="submit">üîç</button>
    </form>
    <div class="flex-container">
        <div class="scrollable-panel">
            <table id="departments" class="table">
                <thead>
                    <tr>
                        <th>
                            <a href="?sort=id&dir={% if sort == 'id' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ö–æ–¥
                                {% if sort == 'id' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=name&dir={% if sort == 'name' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –¢–∏–ø –ø—Ä–æ–¥—É–∫—Ü—ñ—ó
                                {% if sort == 'name' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=production_line_id&dir={% if sort == 'production_line_id' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –õ—ñ–Ω—ñ—è
                                {% if sort == 'production_line_id' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th style="width: 200px;">–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, –º¬≤</th>
                    </tr>
                </thead>
                <tbody>
                    {% for assignment in page_obj %}
                        <tr>
                            <td>{{ assignment.id|default:"-" }}</td>
                            <td>{{ assignment.name|default:"-" }}</td>
                            <td>{{ assignment.production_line_id|default:"-" }}</td>
                            <td>{{ assignment.productivity|default:"-" }}</td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="4">–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% include "tiles/pagination_partial.html" %}
    </div>
</div>
{% endblock %}
