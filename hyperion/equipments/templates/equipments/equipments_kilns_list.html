{% extends "navigation/base.html" %}

{% block title %}–ü–µ—á—ñ –Ω–∞ –ª—ñ–Ω—ñ—è—Ö{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="text-center my-4">–ü–µ—á—ñ –Ω–∞ –ª—ñ–Ω—ñ—è—Ö</h1>
    <form method="get">
        <input type="text" name="search" placeholder="–ü–æ—à—É–∫..." value="{{ search|default:'' }}">
        <button type="submit">üîç</button>
    </form>
    <div class="flex-container">
        <div class="scrollable-panel">
            <table id="departments" class="table">
                <thead>
                    <tr>
                        <th>
                            <a href="?sort=kiln_id&dir={% if sort == 'kiln_id' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ö–æ–¥
                                {% if sort == 'id' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=kiln_name&dir={% if sort == 'kiln_name' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ü—ñ—á
                                {% if sort == 'name' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=production_line_id&dir={% if sort == 'production_line_id' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –õ—ñ–Ω—ñ—è
                                {% if sort == 'production_line_id' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th style="width: 200px;">–û–±–ª–∞–¥–Ω–∞–Ω–Ω—è</th>
                        <th style="width: 100px;">‚Ññ –ü–µ—á—ñ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for kilns in page_obj %}
                        <tr>
                            <td>{{ kilns.kiln_id|default:"-" }}</td>
                            <td>{{ kilns.kiln_name|default:"-" }}</td>
                            <td>{{ kilns.production_line_id|default:"-" }}</td>
                            <td>{{ kilns.hardware_id|default:"-" }}</td>
                            <td>{{ kilns.kiln_number|default:"-" }}</td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="4">–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% include "tiles/pagination_partial.html" %}
    </div>
</div>
{% endblock %}
