{% extends "navigation/base.html" %}

{% block title %}–ó–º—ñ–Ω–∏{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="text-center my-4">–ó–º—ñ–Ω–∏</h1>
    <form method="get">
        <input type="text" name="search" placeholder="–ü–æ—à—É–∫..." value="{{ search|default:'' }}">
        <button type="submit">üîç</button>
    </form>
    <div class="flex-container">
        <div class="scrollable-panel">
            <table id="departments" class="table">
                <thead>
                    <tr>
                        <th>
                            <a href="?sort=shift_id&dir={% if sort == 'shift_id' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ö–æ–¥
                                {% if sort == 'shift_id' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=name&dir={% if sort == 'name' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ó–º—ñ–Ω–∞
                                {% if sort == 'name' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=shift_foreman&dir={% if sort == 'shift_foreman' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ú–∞—Å—Ç–µ—Ä –∑–º—ñ–Ω–∏
                                {% if sort == 'shift_foreman' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=alias&dir={% if sort == 'alias' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ö–æ—Ä–æ—Ç–∫–æ
                                {% if sort == 'alias' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                        <th>
                            <a href="?sort=line_group_id&dir={% if sort == 'line_group_id' and dir == 'asc' %}desc{% else %}asc{% endif %}{% if search %}&search={{ search }}{% endif %}">
                                –ì—Ä—É–ø–∞ –ª—ñ–Ω—ñ–π
                                {% if sort == 'line_group_id' %}
                                    {% if dir == 'asc' %}‚Üë{% else %}‚Üì{% endif %}
                                {% endif %}
                            </a>
                        </th>
                       
                    </tr>
                </thead>
                <tbody>
                    {% for shifts in page_obj %}
                        <tr>
                            <td>{{ shifts.shift_id|default:"-" }}</td>
                            <td>{{ shifts.name|default:"-" }}</td>
                            <td>{{ shifts.shift_foreman|default:"-" }}</td>
                            <td>{{ shifts.alias|default:"-" }}</td>
                            <td>{{ shifts.line_group_id|default:"-" }}</td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="4">–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% include "tiles/pagination_partial.html" %}
    </div>
</div>
{% endblock %}
